<%- include("partials/header.ejs") %>

  <div class="background-image">
    <img src="/images/background.jpg" alt="background">
  </div>

  <div class="homepage-intro">
    <h1>Welcome to <span>The Binge Box 🍿</span></h1>
    <p class="quote">“I have no life. I'm watching a show that ended 10 years ago like it's a live event.”</p>
    <p class="subtext">Search your favorite shows and get hooked season by season.</p>
  </div>

  <div class="category-section">
    <h2>Browse by Genre</h2>
    <div class="pill-container">
      <a href="/search?q=Action" class="pill">Action</a>
      <a href="/search?q=Comedy" class="pill">Comedy</a>
      <a href="/search?q=Thriller" class="pill">Thriller</a>
      <a href="/search?q=Romance" class="pill">Romance</a>
      <a href="/search?q=Sci-Fi" class="pill">Sci-Fi</a>
      <a href="/search?q=Horror" class="pill">Horror</a>
      <a href="/search?q=Animated" class="pill">Animated</a>
    </div>
  </div>

  <!-- Trending Shows Section -->
  <div class="category-section">
    <h2>🔥 Trending Now</h2>
    <div class="show-grid">
      <% for (let i=0; i < trending.length; i++) { %>
        <div class="show-card">
          <div class="img-wrapper">
            <% if (trending[i].image) { %>
              <img class="trending-img" src="<%= trending[i].image.original || trending[i].image.medium %>"
                alt="<%= trending[i].name %>">
              <% } else { %>
                <div class="img-placeholder"></div>
                <% } %>
          </div>
          <h2>
            <%= trending[i].name %>
          </h2>
          <a href="/show/<%= trending[i].id %>" class="btn">More</a>
        </div>
        <% } %>
    </div>
  </div>


  <!-- Highlight Section -->
  <div class="highlight-section">
    <h2>🎲 Show of the Day</h2>
    <div class="highlight-card">
      <div class="highlight-image">
        <% if (randomShow.image) { %>
          <img src="<%= randomShow.image.original || randomShow.image.medium %>" alt="<%= randomShow.name %>">
          <% } else { %>
            <div class="img-placeholder"></div>
            <% } %>
      </div>
      <div class="highlight-details">
        <h2>
          <%= randomShow.name %>
        </h2>
        <p class="highlight-summary">
          <%= randomShow.summary ? randomShow.summary.replace(/<[^>]*>/g, '').slice(0, 150) + '...'
            : "No description" %>
        </p>
        <a href="/show/<%= randomShow.id %>" class="highlight-btn">Explore</a>
      </div>
    </div>
  </div>

  <!-- Quote Section -->
  <div class="quote-section">
    <h2>🎮 Quote of the Day</h2>
    <p class="daily-quote">"<%= quote %>"</p>
  </div>

  <%- include("partials/footer.ejs") %>